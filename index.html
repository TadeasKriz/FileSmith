<!DOCTYPE html>
<html lang="en">
  <head>
    <title>FileSmith  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="FileSmith  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">FileSmith Docs</a> (54% documented)</p>
        <p class="header-right"><a href="https://github.com/kareman/FileSmith"><img src="img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">FileSmith Reference</a>
        <img id="carat" src="img/carat.png" />
        FileSmith  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/Directory.html">Directory</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ReadableFile.html">ReadableFile</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WritableFile.html">WritableFile</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Global Variables.html">Global Variables</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Global Variables.html#/s:v9FileSmith13pathseparatorSS">pathseparator</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/AlreadyExistsOptions.html">AlreadyExistsOptions</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/FileSystemError.html">FileSystemError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/FileType.html">FileType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/LazyCollectionProtocol.html">LazyCollectionProtocol</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Sequence.html">Sequence</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Functions.html#/s:F9FileSmithoi2eeuRxS_4Pathxs9EquatablerFTxx_Sb">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F9FileSmith4pathFT12detectTypeOfSS_GSqPS_4Path__">path(detectTypeOf:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/File.html">File</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Path.html">Path</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ReadableStream.html">ReadableStream</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/WritableStream.html">WritableStream</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/AnyPath.html">AnyPath</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/DirectoryPath.html">DirectoryPath</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/FilePath.html">FilePath</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/LazySplitSequence.html">LazySplitSequence</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PartialSourceLazySplitSequence.html">PartialSourceLazySplitSequence</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <p><a href="https://travis-ci.org/kareman/FileSmith"><img src="https://travis-ci.org/kareman/FileSmith.svg?branch=master" alt="Build Status"></a> <img src="https://img.shields.io/badge/platforms-macOS%20%7C%20iOS%20%7C%20tvOS%20%7C%20WatchOS%20%7C%20Linux-lightgrey.svg" alt="Platforms"> <a href="https://github.com/Carthage/Carthage"><img src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat" alt="Carthage compatible"></a></p>
<a href='#filesmith' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='filesmith'>FileSmith</h1>

<p>A strongly typed Swift library for working with local files and directories.</p>

<p>Still a work in progress and has not been properly tested, so use at your own risk. This readme is also clearly far from finished.</p>

<p><a href="https://kareman.github.io/FileSmith/">API documentation</a></p>
<a href='#safety-first' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='safety-first'>Safety first</h2>

<p>Handling files in code can feel a bit risky sometimes (especially when you&rsquo;re using a brand-new library) so FileSmith has a built in safety feature: when <code>Directory.sandbox == true</code> (and it is by default) you can only change files or create new files and directories if they are under the current working directory. Trying to make changes elsewhere throws an error.</p>
<a href='#terms' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='terms'>Terms</h2>

<p><strong>Path:</strong>
The location of an item <em>which may or may not exist</em> in the local file system. It is either a <a href="https://kareman.github.io/FileSmith/Structs/DirectoryPath.html">DirectoryPath</a>, <a href="https://kareman.github.io/FileSmith/Structs/FilePath.html">FilePath</a> or <a href="https://kareman.github.io/FileSmith/Structs/AnyPath.html">AnyPath</a>.</p>

<p><strong>File:</strong>
An existing regular file or something <em>file-like</em> which you can read from and/or write to, like streams, pipes or sockets. Or symbolic links to any of these.</p>

<p><strong>Directory:</strong>
An existing directory or a symbolic link to a directory. Basically anything you can <code>cd</code> into in the terminal.</p>

<p><strong>Item:</strong>
(for lack of a better term)
A file or a directory. Anything with a path in the file system.</p>
<a href='#paths' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='paths'>Paths</h2>
<a href='#files' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='files'>Files</h2>
<a href='#types' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h4 id='types'>Types</h4>

<p>When opening files symbolic links are always followed, so the type of a file is never .symbolicLink, but can be .brokenSymbolicLink for symbolic links whose targets do not exist.</p>
<pre class="highlight swift"><code><span class="n">file1</span><span class="o">.</span><span class="n">type</span>

<span class="kd">public</span> <span class="kd">enum</span> <span class="kt">FileType</span><span class="p">:</span> <span class="kt">Equatable</span><span class="p">,</span> <span class="kt">Hashable</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">regularFile</span>
    <span class="k">case</span> <span class="n">directory</span>
    <span class="k">case</span> <span class="n">characterSpecial</span>
    <span class="k">case</span> <span class="n">blockSpecial</span>
    <span class="k">case</span> <span class="n">socket</span>
    <span class="k">case</span> <span class="n">brokenSymbolicLink</span>
    <span class="k">case</span> <span class="n">namedPipe</span>
    <span class="k">case</span> <span class="n">unknown</span>
<span class="p">}</span>
</code></pre>
<a href='#usage' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='usage'>Usage</h2>
<a href='#change-current-working-directory' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h4 id='change-current-working-directory'>Change current working directory</h4>
<pre class="highlight swift"><code><span class="kt">DirectoryPath</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="s">"/tmp"</span>
<span class="kt">Directory</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="kt">Directory</span><span class="o">.</span><span class="nf">createTempDirectory</span><span class="p">()</span>
</code></pre>
<a href='#create' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h4 id='create'>Create</h4>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">dirpath</span> <span class="o">=</span> <span class="kt">DirectoryPath</span><span class="p">(</span><span class="s">"dir/dir1"</span><span class="p">)</span>
<span class="k">var</span> <span class="nv">dir1</span> <span class="o">=</span> <span class="k">try</span> <span class="n">dirpath</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">ifExists</span><span class="p">:</span> <span class="o">.</span><span class="n">replace</span><span class="p">)</span>
<span class="k">var</span> <span class="nv">dir2</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Directory</span><span class="p">(</span><span class="nv">create</span><span class="p">:</span> <span class="s">"dir/dir2"</span><span class="p">,</span> <span class="nv">ifExists</span><span class="p">:</span> <span class="o">.</span><span class="n">throwError</span><span class="p">)</span>
<span class="k">var</span> <span class="nv">dir3</span> <span class="o">=</span> <span class="k">try</span> <span class="n">dir2</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">directory</span><span class="p">:</span> <span class="s">"dir3"</span><span class="p">,</span> <span class="nv">ifExists</span><span class="p">:</span> <span class="o">.</span><span class="n">open</span><span class="p">)</span> <span class="c1">// dir/dir2/dir3</span>

<span class="k">let</span> <span class="nv">filepath</span> <span class="o">=</span> <span class="kt">FilePath</span><span class="p">(</span><span class="s">"dir/file1.txt"</span><span class="p">)</span>
<span class="k">var</span> <span class="nv">file1_edit</span> <span class="o">=</span> <span class="k">try</span> <span class="n">filepath</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">ifExists</span><span class="p">:</span> <span class="o">.</span><span class="n">open</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">file2_edit</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">EditableFile</span><span class="p">(</span><span class="nv">create</span><span class="p">:</span> <span class="s">"file2.txt"</span><span class="p">,</span> <span class="nv">ifExists</span><span class="p">:</span> <span class="o">.</span><span class="n">open</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">file3_edit</span> <span class="o">=</span> <span class="k">try</span> <span class="n">dir1</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">file</span><span class="p">:</span> <span class="s">"file3.txt"</span><span class="p">,</span> <span class="nv">ifExists</span><span class="p">:</span> <span class="o">.</span><span class="n">open</span><span class="p">)</span> <span class="c1">// dir/dir1/file3</span>
</code></pre>
<a href='#open' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h4 id='open'>Open</h4>
<pre class="highlight swift"><code><span class="n">dir1</span> <span class="o">=</span> <span class="k">try</span> <span class="n">dirpath</span><span class="o">.</span><span class="nf">open</span><span class="p">()</span>
<span class="n">dir2</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Directory</span><span class="p">(</span><span class="nv">open</span><span class="p">:</span> <span class="s">"dir/dir2"</span><span class="p">)</span>
<span class="n">dir3</span> <span class="o">=</span> <span class="k">try</span> <span class="n">dir2</span><span class="o">.</span><span class="nf">open</span><span class="p">(</span><span class="nv">directory</span><span class="p">:</span> <span class="s">"dir3"</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">file1</span> <span class="o">=</span> <span class="k">try</span> <span class="n">filepath</span><span class="o">.</span><span class="nf">open</span><span class="p">()</span>
<span class="k">let</span> <span class="nv">file2</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">File</span><span class="p">(</span><span class="nv">open</span><span class="p">:</span> <span class="s">"file2.txt"</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">file3</span> <span class="o">=</span> <span class="k">try</span> <span class="n">dir1</span><span class="o">.</span><span class="nf">open</span><span class="p">(</span><span class="nv">file</span><span class="p">:</span> <span class="s">"file3.txt"</span><span class="p">)</span>
</code></pre>
<a href='#read-write' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h4 id='read-write'>Read/Write</h4>
<pre class="highlight swift"><code><span class="n">file1_edit</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="o">.</span><span class="n">utf16</span> <span class="c1">// .utf8 by default</span>
<span class="n">file1_edit</span><span class="o">.</span><span class="nf">write</span><span class="p">(</span><span class="s">"some text..."</span><span class="p">)</span>
<span class="n">file2</span><span class="o">.</span><span class="nf">write</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">file1_edit</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">contents</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">file3</span><span class="o">.</span><span class="nf">read</span><span class="p">()</span>
<span class="k">for</span> <span class="n">line</span> <span class="k">in</span> <span class="n">file3</span><span class="o">.</span><span class="nf">lines</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// a lazy sequence</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
<span class="k">while</span> <span class="k">let</span> <span class="nv">text</span> <span class="o">=</span> <span class="n">file3</span><span class="o">.</span><span class="nf">readSome</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// read pipes etc. piece by piece, instead of waiting until they are closed.</span>
<span class="p">}</span>
</code></pre>
<a href='#symbolic-links' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h4 id='symbolic-links'>Symbolic links</h4>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">dir1_link</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Directory</span><span class="p">(</span><span class="nv">createSymbolicLink</span><span class="p">:</span> <span class="s">"dir1_link"</span><span class="p">,</span> <span class="nv">to</span><span class="p">:</span> <span class="n">dir1</span><span class="p">,</span> <span class="nv">ifExists</span><span class="p">:</span> <span class="o">.</span><span class="n">open</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">dir2_link</span> <span class="o">=</span> <span class="k">try</span> <span class="n">dir1</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">symbolicLink</span><span class="p">:</span> <span class="s">"dir2_link"</span><span class="p">,</span> <span class="nv">to</span><span class="p">:</span> <span class="n">dir2</span><span class="p">,</span> <span class="nv">ifExists</span><span class="p">:</span> <span class="o">.</span><span class="n">open</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">file1_link</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">File</span><span class="p">(</span><span class="nv">createSymbolicLink</span><span class="p">:</span> <span class="s">"file1_link"</span><span class="p">,</span> <span class="nv">to</span><span class="p">:</span> <span class="n">file1</span><span class="p">,</span> <span class="nv">ifExists</span><span class="p">:</span> <span class="o">.</span><span class="n">open</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">file2_link</span> <span class="o">=</span> <span class="k">try</span> <span class="n">dir2</span><span class="o">.</span><span class="nf">create</span><span class="p">(</span><span class="nv">symbolicLink</span><span class="p">:</span> <span class="s">"file2_link"</span><span class="p">,</span> <span class="nv">to</span><span class="p">:</span> <span class="n">file2</span><span class="p">,</span> <span class="nv">ifExists</span><span class="p">:</span> <span class="o">.</span><span class="n">open</span><span class="p">)</span>
</code></pre>
<a href='#misc' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h4 id='misc'>Misc</h4>
<pre class="highlight swift"><code><span class="c1">// the path of a file or directory</span>
<span class="n">file1</span><span class="o">.</span><span class="n">path</span> <span class="c1">// FilePath</span>
<span class="n">dir1</span><span class="o">.</span><span class="n">path</span>  <span class="c1">// DirectoryPath</span>

<span class="c1">// remove files and directories</span>
<span class="k">try</span> <span class="n">file1_edit</span><span class="o">.</span><span class="nf">delete</span><span class="p">()</span>
<span class="k">try</span> <span class="n">dir1</span><span class="o">.</span><span class="nf">delete</span><span class="p">()</span>
</code></pre>
<a href='#license' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='license'>License</h2>

<p>Released under the MIT License (MIT), <a href="http://opensource.org/licenses/MIT">http://opensource.org/licenses/MIT</a></p>

<p>Kåre Morstøl, <a href="http://nottoobadsoftware.com">NotTooBad Software</a></p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="https://github.com/kareman/FilesAndDirectories" target="_blank" rel="external">kareman</a>. All rights reserved. (Last updated: 2017-01-26)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.7.2</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
